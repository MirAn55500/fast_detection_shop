# Object Detection Service

Веб-приложение для обнаружения объектов в видео с использованием алгоритма YOLO (You Only Look Once). Система способна обнаруживать людей, паллеты и купола (при использовании пользовательской модели) в видео и сохранять результаты.

## Функциональность

- Загрузка видео через веб-интерфейс
- Выбор между стандартной моделью (только определение людей) и пользовательской моделью (люди, паллеты, купола)
- Обработка видео с пониженной частотой кадров для повышения производительности
- Визуализация прогресса обработки в реальном времени
- Вывод статистики и результатов обнаружения объектов
- Отображение исходного и обработанного видео
- Сохранение кадров событий для детального анализа

## Установка

1. Клонировать репозиторий:
   ```
   git clone https://github.com/MirAn55500/fast_detection_shop.git
   cd fast_detection_shop
   ```

2. Создать виртуальную среду Python и активировать её:
   ```
   python -m venv venv
   # Windows:
   venv\Scripts\activate
   # Linux/Mac:
   source venv/bin/activate
   ```

3. Установить зависимости:
   ```
   pip install -r requirements.txt
   ```

4. Запустить приложение:
   ```
   python app.py
   ```

5. Открыть в браузере: http://localhost:8000

## Структура проекта

- `app.py` - FastAPI приложение и маршруты
- `person_detection_service.py` - Основной сервис обнаружения объектов
- `templates/` - HTML шаблоны для веб-интерфейса
- `static/` - Статические файлы и загруженные видео
- `models/` - Директория для моделей YOLO
- `custom_model_training.py` - Скрипт для обучения пользовательской модели
- `dataset_preparation_guide.md` - Руководство по подготовке датасета для обучения

## Кастомизация модели

Для обучения пользовательской модели для обнаружения специфических объектов:

1. Подготовьте датасет в соответствии с `dataset_preparation_guide.md`
2. Запустите скрипт обучения:
   ```
   python custom_model_training.py
   ```

## Технические детали

- Фреймворк: FastAPI
- Алгоритм обнаружения: YOLOv4-tiny
- Обработка видео: OpenCV
- Частота кадров: 1 кадр из 16 (регулируемая)
- Формат вывода: MP4/AVI с поддержкой разных кодеков
- Поддержка клиентских устройств: адаптивный дизайн

## Требования

- Python 3.8 или выше
- OpenCV 4.x
- Зависимости в requirements.txt
